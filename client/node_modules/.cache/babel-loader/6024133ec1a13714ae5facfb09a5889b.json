{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{LinearProgress,Zoom,Box}from'@mui/material';import axios from'axios';import React from'react';import{BotContext}from'../../../../context/BotContext';import{AddReply}from'./AddReply';import RunningBot from'./RunningBot';import{jsx as _jsx}from\"react/jsx-runtime\";var InitialScreen=function InitialScreen(){var botState=React.useContext(BotContext);var _React$useState=React.useState({loading:true}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var token=localStorage.getItem(process.env.REACT_APP_TOKEN+\"_user\");function getBot(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/api/bot/get_one\"),{headers:{Authorization:\"Bearer \"+token}}).then(function(res){setState(_objectSpread(_objectSpread({},state),{},{loading:false}));if(res.data.success){if(res.data.data){botState.setData(_objectSpread(_objectSpread({},botState.data),{},{running_bot:true,bot_data:JSON.parse(res.data.data.reply)}));}}}).catch(function(err){return console.log(err);});}React.useEffect(function(){if(!token){return;}getBot();},[token]);return/*#__PURE__*/_jsx(\"div\",{children:state.loading?/*#__PURE__*/_jsx(LinearProgress,{}):botState.data.running_bot?/*#__PURE__*/_jsx(Zoom,{in:true,children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(RunningBot,{})})}):/*#__PURE__*/_jsx(Zoom,{in:true,children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(AddReply,{})})})});};export default InitialScreen;","map":{"version":3,"names":["LinearProgress","Zoom","Box","axios","React","BotContext","AddReply","RunningBot","InitialScreen","botState","useContext","useState","loading","state","setState","token","localStorage","getItem","process","env","REACT_APP_TOKEN","getBot","get","REACT_APP_BASE_URL","headers","Authorization","then","res","data","success","setData","running_bot","bot_data","JSON","parse","reply","catch","err","console","log","useEffect"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/user/pages/bot/components/InitialScreen.js"],"sourcesContent":["import { LinearProgress, Zoom, Box } from '@mui/material'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport { BotContext } from '../../../../context/BotContext'\r\nimport { AddReply } from './AddReply'\r\nimport RunningBot from './RunningBot'\r\n\r\nconst InitialScreen = () => {\r\n    const botState = React.useContext(BotContext)\r\n    const [state, setState] = React.useState({\r\n        loading: true\r\n    })\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n\r\n    function getBot() {\r\n        setState({ ...state, loading: true })\r\n        axios.get(`${process.env.REACT_APP_BASE_URL}/api/bot/get_one`, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            setState({ ...state, loading: false })\r\n            if (res.data.success) {\r\n                if (res.data.data) {\r\n                    botState.setData({ ...botState.data, running_bot: true, bot_data: JSON.parse(res.data.data.reply) })\r\n                }\r\n            }\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!token) {\r\n            return\r\n        }\r\n        getBot()\r\n    }, [token])\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                state.loading ? (\r\n                    <LinearProgress />\r\n                ) : (\r\n                    botState.data.running_bot ? (\r\n                        <Zoom in={true} >\r\n                            <Box>\r\n                                <RunningBot />\r\n                            </Box>\r\n                        </Zoom>\r\n                    ) : (\r\n                        <Zoom in={true} >\r\n                            <Box>\r\n                                <AddReply />\r\n                            </Box>\r\n                        </Zoom>\r\n                    )\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InitialScreen"],"mappings":"iRAAA,OAASA,cAAc,CAAEC,IAAI,CAAEC,GAAG,KAAQ,eAAe,CACzD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,gCAAgC,CAC3D,OAASC,QAAQ,KAAQ,YAAY,CACrC,MAAOC,WAAU,KAAM,cAAc,4CAErC,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CACxB,GAAMC,SAAQ,CAAGL,KAAK,CAACM,UAAU,CAACL,UAAU,CAAC,CAC7C,oBAA0BD,KAAK,CAACO,QAAQ,CAAC,CACrCC,OAAO,CAAE,IACb,CAAC,CAAC,oDAFKC,KAAK,qBAAEC,QAAQ,qBAGtB,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,eAAe,CAAG,OAAO,CAAC,CAEzE,QAASC,OAAM,EAAG,CACdP,QAAQ,gCAAMD,KAAK,MAAED,OAAO,CAAE,IAAI,GAAG,CACrCT,KAAK,CAACmB,GAAG,WAAIJ,OAAO,CAACC,GAAG,CAACI,kBAAkB,qBAAoB,CAC3DC,OAAO,CAAE,CACLC,aAAa,CAAE,SAAS,CAAGV,KAC/B,CACJ,CAAC,CAAC,CAACW,IAAI,CAAC,SAACC,GAAG,CAAK,CACbb,QAAQ,gCAAMD,KAAK,MAAED,OAAO,CAAE,KAAK,GAAG,CACtC,GAAIe,GAAG,CAACC,IAAI,CAACC,OAAO,CAAE,CAClB,GAAIF,GAAG,CAACC,IAAI,CAACA,IAAI,CAAE,CACfnB,QAAQ,CAACqB,OAAO,gCAAMrB,QAAQ,CAACmB,IAAI,MAAEG,WAAW,CAAE,IAAI,CAAEC,QAAQ,CAAEC,IAAI,CAACC,KAAK,CAACP,GAAG,CAACC,IAAI,CAACA,IAAI,CAACO,KAAK,CAAC,GAAG,CACxG,CACJ,CACJ,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAEAjC,KAAK,CAACoC,SAAS,CAAC,UAAM,CAClB,GAAI,CAACzB,KAAK,CAAE,CACR,OACJ,CACAM,MAAM,EAAE,CACZ,CAAC,CAAE,CAACN,KAAK,CAAC,CAAC,CAEX,mBACI,qBAEQF,KAAK,CAACD,OAAO,cACT,KAAC,cAAc,IAAG,CAElBH,QAAQ,CAACmB,IAAI,CAACG,WAAW,cACrB,KAAC,IAAI,EAAC,EAAE,CAAE,IAAK,uBACX,KAAC,GAAG,wBACA,KAAC,UAAU,IAAG,EACZ,EACH,cAEP,KAAC,IAAI,EAAC,EAAE,CAAE,IAAK,uBACX,KAAC,GAAG,wBACA,KAAC,QAAQ,IAAG,EACV,EAGjB,EAEH,CAEd,CAAC,CAED,cAAevB,cAAa"},"metadata":{},"sourceType":"module"}