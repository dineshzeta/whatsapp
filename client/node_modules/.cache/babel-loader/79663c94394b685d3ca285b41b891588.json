{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Whatshub_v1.2\\\\client\\\\src\\\\routing\\\\AdminRoute.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { LinearProgress } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = _ref => {\n  _s();\n  let {\n    component: Component,\n    ...rest\n  } = _ref;\n  const [state, setState] = React.useState({\n    loading: true\n  });\n  function checkAdmin() {\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\");\n    axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/get_admin_by_token`, {\n      headers: {\n        Authorization: \"Beare \" + token\n      }\n    }).then(res => {\n      if (!res.data.success) {\n        setState({\n          ...state,\n          loading: false,\n          isLogin: false\n        });\n      } else {\n        setState({\n          ...state,\n          loading: false,\n          isLogin: true\n        });\n      }\n    });\n  }\n  React.useEffect(() => {\n    checkAdmin();\n  }, []);\n  return state.loading ? /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(Route, {\n    ...rest,\n    render: props => state.isLogin ? /*#__PURE__*/_jsxDEV(Component, {\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/admin/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }, this);\n};\n_s(PrivateRoute, \"xo7GKJaF9wIYz0jVFAbNEZmcp1Q=\");\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["axios","React","Route","Redirect","LinearProgress","PrivateRoute","component","Component","rest","state","setState","useState","loading","checkAdmin","token","localStorage","getItem","process","env","REACT_APP_TOKEN","get","REACT_APP_BASE_URL","headers","Authorization","then","res","data","success","isLogin","useEffect","props"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/routing/AdminRoute.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { LinearProgress } from '@mui/material'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const [state, setState] = React.useState({\r\n        loading: true\r\n    })\r\n\r\n    function checkAdmin() {\r\n        const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\")\r\n        axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/get_admin_by_token`, {\r\n            headers: {\r\n                Authorization: \"Beare \" + token\r\n            }\r\n        }).then((res) => {\r\n            if (!res.data.success) {\r\n                setState({ ...state, loading: false, isLogin: false })\r\n            } else {\r\n                setState({ ...state, loading: false, isLogin: true })\r\n            }\r\n        })\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        checkAdmin()\r\n    }, [])\r\n\r\n    return (\r\n        state.loading ? (\r\n            <LinearProgress />\r\n        ) : (\r\n            <Route {...rest} render={props => (\r\n                state.isLogin ?\r\n                    <Component {...props} />\r\n                    : <Redirect to=\"/admin/login\" />\r\n            )} />\r\n        )\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,QAAQ,QAAQ,kBAAkB;AAClD,SAASC,cAAc,QAAQ,eAAe;AAAA;AAE9C,MAAMC,YAAY,GAAG,QAAuC;EAAA;EAAA,IAAtC;IAAEC,SAAS,EAAEC,SAAS;IAAE,GAAGC;EAAK,CAAC;EACnD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,KAAK,CAACU,QAAQ,CAAC;IACrCC,OAAO,EAAE;EACb,CAAC,CAAC;EAEF,SAASC,UAAU,GAAG;IAClB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,eAAe,GAAG,QAAQ,CAAC;IAC1EnB,KAAK,CAACoB,GAAG,CAAE,GAAEH,OAAO,CAACC,GAAG,CAACG,kBAAmB,8BAA6B,EAAE;MACvEC,OAAO,EAAE;QACLC,aAAa,EAAE,QAAQ,GAAGT;MAC9B;IACJ,CAAC,CAAC,CAACU,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACC,IAAI,CAACC,OAAO,EAAE;QACnBjB,QAAQ,CAAC;UAAE,GAAGD,KAAK;UAAEG,OAAO,EAAE,KAAK;UAAEgB,OAAO,EAAE;QAAM,CAAC,CAAC;MAC1D,CAAC,MAAM;QACHlB,QAAQ,CAAC;UAAE,GAAGD,KAAK;UAAEG,OAAO,EAAE,KAAK;UAAEgB,OAAO,EAAE;QAAK,CAAC,CAAC;MACzD;IACJ,CAAC,CAAC;EACN;EAEA3B,KAAK,CAAC4B,SAAS,CAAC,MAAM;IAClBhB,UAAU,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OACIJ,KAAK,CAACG,OAAO,gBACT,QAAC,cAAc;IAAA;IAAA;IAAA;EAAA,QAAG,gBAElB,QAAC,KAAK;IAAA,GAAKJ,IAAI;IAAE,MAAM,EAAEsB,KAAK,IAC1BrB,KAAK,CAACmB,OAAO,gBACT,QAAC,SAAS;MAAA,GAAKE;IAAK;MAAA;MAAA;MAAA;IAAA,QAAI,gBACtB,QAAC,QAAQ;MAAC,EAAE,EAAC;IAAc;MAAA;MAAA;MAAA;IAAA;EACnC;IAAA;IAAA;IAAA;EAAA,QACL;AAET,CAAC;AAAC,GAnCIzB,YAAY;AAAA,KAAZA,YAAY;AAqClB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}