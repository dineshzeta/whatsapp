{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Whatshub_v1.2\\\\client\\\\src\\\\user\\\\pages\\\\profile\\\\UpdateProfile.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Divider, LinearProgress, Stack, TextField, Typography } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\nimport GetUserByToken from '../../../utils/GetUserByToken';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateProfile = () => {\n  _s();\n  const {\n    user_by_token\n  } = GetUserByToken();\n  const [user, setUser] = React.useState({});\n  React.useEffect(() => {\n    if (!user_by_token) {\n      return;\n    }\n    setUser({\n      ...user_by_token\n    });\n  }, [user_by_token]);\n  const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\");\n  const history = useHistory();\n  function updateUser() {\n    axios.post(`${process.env.REACT_APP_BASE_URL}/api/user/update`, user, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      alert(res.data.msg);\n      localStorage.removeItem(process.env.REACT_APP_TOKEN + \"_user\");\n      history.push('/user');\n    }).catch(err => console.log(err));\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: 'row',\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        fontWeight: \"bold\",\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      mb: 2,\n      children: /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), user.email ? /*#__PURE__*/_jsxDEV(Stack, {\n      direction: 'column',\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        onChange: e => setUser({\n          ...user,\n          name: e.target.value\n        }),\n        value: user.name,\n        label: \"Name\",\n        size: \"small\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: e => setUser({\n          ...user,\n          email: e.target.value\n        }),\n        value: user.email,\n        label: \"Email\",\n        size: \"small\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: e => setUser({\n          ...user,\n          new_password: e.target.value\n        }),\n        helperText: \"Leave it blank if you dont wanna change the password\",\n        label: \"Password\",\n        size: \"small\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n        onClick: updateUser,\n        fullWidth: true,\n        variant: \"contained\",\n        size: \"small\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateProfile, \"ZORdrm4dVTjDMVcJm6k4xqEptN4=\", false, function () {\n  return [useHistory];\n});\n_c = UpdateProfile;\nexport default UpdateProfile;\nvar _c;\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"names":["React","Box","Divider","LinearProgress","Stack","TextField","Typography","LoadingButton","GetUserByToken","axios","useHistory","UpdateProfile","user_by_token","user","setUser","useState","useEffect","token","localStorage","getItem","process","env","REACT_APP_TOKEN","history","updateUser","post","REACT_APP_BASE_URL","headers","Authorization","then","res","alert","data","msg","removeItem","push","catch","err","console","log","email","e","name","target","value","new_password"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/user/pages/profile/UpdateProfile.js"],"sourcesContent":["import React from 'react'\r\nimport { Box, Divider, LinearProgress, Stack, TextField, Typography } from '@mui/material'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport GetUserByToken from '../../../utils/GetUserByToken'\r\nimport axios from 'axios'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst UpdateProfile = () => {\r\n    const { user_by_token } = GetUserByToken()\r\n    const [user, setUser] = React.useState({})\r\n    React.useEffect(() => {\r\n        if (!user_by_token) {\r\n            return\r\n        }\r\n        setUser({ ...user_by_token })\r\n    }, [user_by_token])\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n    const history = useHistory()\r\n\r\n    function updateUser() {\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/user/update`, user, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            alert(res.data.msg)\r\n            localStorage.removeItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n            history.push('/user')\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <Box p={2} >\r\n            <Stack direction={'row'} alignItems='center'>\r\n                <Typography fontWeight=\"bold\" >Update Profile</Typography>\r\n            </Stack>\r\n            <Box mt={2} mb={2}>\r\n                <Divider />\r\n            </Box>\r\n\r\n            {\r\n                user.email ? (\r\n                    <Stack direction={'column'} spacing={2}>\r\n                        <TextField onChange={(e) => setUser({ ...user, name: e.target.value })} value={user.name} label=\"Name\" size='small' fullWidth />\r\n                        <TextField onChange={(e) => setUser({ ...user, email: e.target.value })} value={user.email} label=\"Email\" size='small' fullWidth />\r\n                        <TextField onChange={(e) => setUser({ ...user, new_password: e.target.value })} helperText='Leave it blank if you dont wanna change the password' label=\"Password\" size='small' fullWidth />\r\n\r\n                        <LoadingButton onClick={updateUser} fullWidth variant='contained' size='small' >Update</LoadingButton>\r\n                    </Stack>\r\n                ) : (\r\n                    <LinearProgress />\r\n                )\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile"],"mappings":"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"},"metadata":{},"sourceType":"module"}