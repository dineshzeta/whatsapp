{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nconst GetUserByToken = () => {\n  _s();\n  const [user_by_token, setState] = React.useState(\"\");\n  const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\");\n  const history = useHistory();\n  React.useEffect(() => {\n    if (!token) {\n      return;\n    }\n    axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/get_user_by_token`, {\n      headers: {\n        Authorization: \"Beare \" + token\n      }\n    }).then(res => {\n      if (res.data.logout) {\n        localStorage.removeItem(process.env.REACT_APP_TOKEN + \"_user\");\n        history.push(\"/user/login\");\n      }\n      if (!res.data.success) {\n        console.log(res.data);\n      }\n      setState(res.data.data);\n    }).catch(err => console.log(err));\n  }, [token]);\n  return {\n    user_by_token\n  };\n};\n_s(GetUserByToken, \"KLvZV8dPeYmRSHuBWRX8ENgut8k=\", false, function () {\n  return [useHistory];\n});\n_c = GetUserByToken;\nexport default GetUserByToken;\nvar _c;\n$RefreshReg$(_c, \"GetUserByToken\");","map":{"version":3,"names":["axios","React","useHistory","GetUserByToken","user_by_token","setState","useState","token","localStorage","getItem","process","env","REACT_APP_TOKEN","history","useEffect","get","REACT_APP_BASE_URL","headers","Authorization","then","res","data","logout","removeItem","push","success","console","log","catch","err"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/utils/GetUserByToken.js"],"sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst GetUserByToken = () => {\r\n    const [user_by_token, setState] = React.useState(\"\")\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n    const history = useHistory()\r\n    React.useEffect(() => {\r\n        if (!token) {\r\n            return\r\n        }\r\n        axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/get_user_by_token`, {\r\n            headers: {\r\n                Authorization: \"Beare \" + token\r\n            }\r\n        }).then((res) => {\r\n            if (res.data.logout) {\r\n                localStorage.removeItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n                history.push(\"/user/login\")\r\n            }\r\n            if (!res.data.success) {\r\n                console.log(res.data)\r\n            }\r\n            setState(res.data.data)\r\n        })\r\n            .catch((err) => console.log(err))\r\n    }, [token])\r\n    return { user_by_token }\r\n}\r\n\r\nexport default GetUserByToken"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,MAAMC,cAAc,GAAG,MAAM;EAAA;EACzB,MAAM,CAACC,aAAa,EAAEC,QAAQ,CAAC,GAAGJ,KAAK,CAACK,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,eAAe,GAAG,OAAO,CAAC;EACzE,MAAMC,OAAO,GAAGX,UAAU,EAAE;EAC5BD,KAAK,CAACa,SAAS,CAAC,MAAM;IAClB,IAAI,CAACP,KAAK,EAAE;MACR;IACJ;IACAP,KAAK,CAACe,GAAG,CAAE,GAAEL,OAAO,CAACC,GAAG,CAACK,kBAAmB,6BAA4B,EAAE;MACtEC,OAAO,EAAE;QACLC,aAAa,EAAE,QAAQ,GAAGX;MAC9B;IACJ,CAAC,CAAC,CAACY,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,EAAE;QACjBd,YAAY,CAACe,UAAU,CAACb,OAAO,CAACC,GAAG,CAACC,eAAe,GAAG,OAAO,CAAC;QAC9DC,OAAO,CAACW,IAAI,CAAC,aAAa,CAAC;MAC/B;MACA,IAAI,CAACJ,GAAG,CAACC,IAAI,CAACI,OAAO,EAAE;QACnBC,OAAO,CAACC,GAAG,CAACP,GAAG,CAACC,IAAI,CAAC;MACzB;MACAhB,QAAQ,CAACe,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC;IAC3B,CAAC,CAAC,CACGO,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;EACzC,CAAC,EAAE,CAACtB,KAAK,CAAC,CAAC;EACX,OAAO;IAAEH;EAAc,CAAC;AAC5B,CAAC;AAAA,GAzBKD,cAAc;EAAA,QAGAD,UAAU;AAAA;AAAA,KAHxBC,cAAc;AA2BpB,eAAeA,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module"}