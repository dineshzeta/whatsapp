{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Send}from'@mui/icons-material';import{Box,FormControl,InputLabel,LinearProgress,MenuItem,Select,Stack,TextField,Typography}from'@mui/material';import React from'react';import GetInstance from'../../../../utils/GetInstance';import{LoadingButton}from'@mui/lab';import axios from'axios';import AddMediaComp from'./AddMediaComp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendMedia=function SendMedia(){var _GetInstance=GetInstance(),instance=_GetInstance.instance;var _React$useState=React.useState({unique_id:Date.now()}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var token=localStorage.getItem(process.env.REACT_APP_TOKEN+\"_user\");function senMsg(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/api/instance/send_text\"),state,{headers:{Authorization:\"Bearer \"+token}}).then(function(res){setState(_objectSpread(_objectSpread({},state),{},{loading:false}));alert(res.data.msg);}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsx(Box,{borderRadius:2,p:2,m:2,children:/*#__PURE__*/_jsxs(Stack,{direction:'column',spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:'bold',children:\"Send Message With or Without Media\"}),instance?/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Stack,{direction:'column',spacing:2,children:/*#__PURE__*/_jsxs(FormControl,{size:\"small\",fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Select Instance\"}),/*#__PURE__*/_jsx(Select,{sx:{borderRadius:3},size:\"small\",labelId:\"demo-simple-select-label\",id:\"demo-simple-select\"// value={Select Instance}\n,label:\"Select Instance\",onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{client_id:e.target.value.client_id,sender:e.target.value.mobile}));},children:instance&&instance.map(function(i,key){return/*#__PURE__*/_jsxs(MenuItem,{value:i,children:[\"+\",i.mobile]},key);})})]})})}):/*#__PURE__*/_jsx(LinearProgress,{}),/*#__PURE__*/_jsx(AddMediaComp,{onComplete:function onComplete(e){return setState(_objectSpread(_objectSpread({},state),{},{media:e.media_url}));}}),/*#__PURE__*/_jsx(TextField,{onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{receiver:e.target.value}));},value:state.receiver,label:\"Enter contact number\",type:\"number\",size:\"small\",placeholder:\"918888888880\",variant:\"outlined\",InputProps:{style:{borderRadius:14}}}),/*#__PURE__*/_jsx(TextField,{onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{message:e.target.value}));},value:state.message,label:\"Enter your message\",rows:4,multiline:true,size:\"small\",variant:\"outlined\",InputProps:{style:{borderRadius:14}}}),/*#__PURE__*/_jsx(Stack,{alignItems:'flex-end',children:/*#__PURE__*/_jsx(LoadingButton,{onClick:senMsg,loading:state.loading,disabled:state.sender&&state.receiver&&state.message?false:true,startIcon:/*#__PURE__*/_jsx(Send,{}),sx:{borderRadius:2},variant:\"contained\",children:\"Send Message\"})})]})});};export default SendMedia;","map":{"version":3,"names":["Send","Box","FormControl","InputLabel","LinearProgress","MenuItem","Select","Stack","TextField","Typography","React","GetInstance","LoadingButton","axios","AddMediaComp","SendMedia","instance","useState","unique_id","Date","now","state","setState","token","localStorage","getItem","process","env","REACT_APP_TOKEN","senMsg","loading","post","REACT_APP_BASE_URL","headers","Authorization","then","res","alert","data","msg","catch","err","console","log","borderRadius","e","client_id","target","value","sender","mobile","map","i","key","media","media_url","receiver","style","message"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/user/pages/send-messages/components/SendMedia.js"],"sourcesContent":["import { Send } from '@mui/icons-material'\r\nimport { Box, FormControl, InputLabel, LinearProgress, MenuItem, Select, Stack, TextField, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport GetInstance from '../../../../utils/GetInstance'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport axios from 'axios'\r\nimport AddMediaComp from './AddMediaComp'\r\n\r\nconst SendMedia = () => {\r\n    const { instance } = GetInstance()\r\n    const [state, setState] = React.useState({\r\n        unique_id: Date.now()\r\n    })\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_user\")\r\n\r\n    function senMsg() {\r\n        setState({ ...state, loading: true })\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/instance/send_text`, state, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            setState({ ...state, loading: false })\r\n            alert(res.data.msg)\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <Box borderRadius={2} p={2} m={2}>\r\n            <Stack direction={'column'} spacing={2}>\r\n                <Typography variant='h6' fontWeight={'bold'} >Send Message With or Without Media</Typography>\r\n\r\n                {instance ?\r\n                    <Box mt={2}>\r\n                        <Stack direction={'column'} spacing={2}>\r\n                            <FormControl\r\n                                size='small' fullWidth>\r\n                                <InputLabel id=\"demo-simple-select-label\">Select Instance</InputLabel>\r\n                                <Select\r\n                                    sx={{ borderRadius: 3 }}\r\n                                    size='small'\r\n                                    labelId=\"demo-simple-select-label\"\r\n                                    id=\"demo-simple-select\"\r\n                                    // value={Select Instance}\r\n                                    label=\"Select Instance\"\r\n                                    onChange={(e) => setState({ ...state, client_id: e.target.value.client_id, sender: e.target.value.mobile })}\r\n                                >\r\n                                    {instance && instance.map((i, key) => {\r\n                                        return (\r\n                                            <MenuItem key={key} value={i}>+{i.mobile}</MenuItem>\r\n                                        )\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Stack>\r\n                    </Box> : <LinearProgress />}\r\n\r\n                {/* <TextField\r\n                    onChange={(e) => setState({ ...state, media: e.target.value })}\r\n                    value={state.media}\r\n                    helperText='keep this field empty if you dont want to send media'\r\n                    label=\"Enter media URL\"\r\n                    size='small'\r\n                    variant=\"outlined\"\r\n                    placeholder='http://'\r\n                    InputProps={{\r\n                        style: {\r\n                            borderRadius: 14\r\n                        },\r\n                    }}\r\n                /> */}\r\n\r\n                <AddMediaComp\r\n                    onComplete={(e) => setState({ ...state, media: e.media_url })}\r\n                />\r\n\r\n                {/* {JSON.stringify(state)}  */}\r\n\r\n                <TextField\r\n                    onChange={(e) => setState({ ...state, receiver: e.target.value })}\r\n                    value={state.receiver}\r\n                    label=\"Enter contact number\"\r\n                    type='number'\r\n                    size='small'\r\n                    placeholder='918888888880'\r\n                    variant=\"outlined\"\r\n                    InputProps={{\r\n                        style: {\r\n                            borderRadius: 14\r\n                        },\r\n                    }}\r\n                />\r\n\r\n                <TextField\r\n                    onChange={(e) => setState({ ...state, message: e.target.value })}\r\n                    value={state.message}\r\n                    label=\"Enter your message\"\r\n                    rows={4}\r\n                    multiline={true}\r\n                    size='small'\r\n                    variant=\"outlined\"\r\n                    InputProps={{\r\n                        style: {\r\n                            borderRadius: 14\r\n                        },\r\n                    }}\r\n                />\r\n\r\n\r\n                <Stack alignItems={'flex-end'}>\r\n                    <LoadingButton\r\n                        onClick={senMsg}\r\n                        loading={state.loading}\r\n                        disabled={state.sender && state.receiver && state.message ? false : true}\r\n                        startIcon={<Send />}\r\n                        sx={{ borderRadius: 2 }} variant='contained' >Send Message</LoadingButton>\r\n                </Stack>\r\n\r\n            </Stack>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default SendMedia"],"mappings":"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"},"metadata":{},"sourceType":"module"}