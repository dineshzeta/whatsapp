{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Whatshub_v1.2\\\\client\\\\src\\\\admin\\\\pages\\\\manage-plans\\\\AddPlan.js\",\n  _s = $RefreshSig$();\nimport { Box, Container, Stack, TextField, Typography } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\nimport axios from 'axios';\nimport React from 'react';\nimport GetTokenAdmin from '../../../utils/GetTokenAdmin';\nimport { GlobalContext } from '../../../context/GlobalContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPlan = () => {\n  _s();\n  const [state, setState] = React.useState({});\n  const {\n    token_admin\n  } = GetTokenAdmin();\n  const globalContext = React.useContext(GlobalContext);\n  async function fetchPlans() {\n    setState({\n      ...state,\n      loading: true\n    });\n    const res = await axios.get(`${process.env.REACT_APP_BASE_URL}/api/plan/get`);\n    globalContext.setData({\n      ...globalContext.data,\n      plan_data: res.data.data\n    });\n    if (!res.data.success) {\n      console.log(res.data);\n    }\n    setState({\n      ...state,\n      loading: false,\n      cost: \"\",\n      message_limit: \"\",\n      name: \"\"\n    });\n  }\n  async function addPlan() {\n    setState({\n      ...state,\n      loading: true\n    });\n    const res = await axios.post(`${process.env.REACT_APP_BASE_URL}/api/plan/add`, {\n      name: state.name,\n      message_limit: state.message_limit,\n      cost: state.cost\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + token_admin\n      }\n    });\n    if (!res.data.success) {\n      console.log(res.data);\n    }\n    setState({\n      ...state,\n      loading: false\n    });\n    alert(res.data.msg);\n    fetchPlans();\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        mb: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          align: \"center\",\n          fontWeight: 'bold',\n          children: \"Add a plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: 'column',\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          value: state.name,\n          onChange: e => setState({\n            ...state,\n            name: e.target.value\n          }),\n          fullWidth: true,\n          label: \"Plan Name\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: state.message_limit,\n          type: \"number\",\n          onChange: e => setState({\n            ...state,\n            message_limit: parseInt(e.target.value)\n          }),\n          fullWidth: true,\n          label: \"Message Limit\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: state.cost,\n          type: \"number\",\n          onChange: e => setState({\n            ...state,\n            cost: parseInt(e.target.value)\n          }),\n          fullWidth: true,\n          label: \"Cost\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n          onClick: addPlan,\n          loading: state.loading,\n          variant: \"contained\",\n          children: \"Add new\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(AddPlan, \"IaO7EY3rWh5LuABB1OEbCf3NMZM=\");\n_c = AddPlan;\nexport default AddPlan;\nvar _c;\n$RefreshReg$(_c, \"AddPlan\");","map":{"version":3,"names":["Box","Container","Stack","TextField","Typography","LoadingButton","axios","React","GetTokenAdmin","GlobalContext","AddPlan","state","setState","useState","token_admin","globalContext","useContext","fetchPlans","loading","res","get","process","env","REACT_APP_BASE_URL","setData","data","plan_data","success","console","log","cost","message_limit","name","addPlan","post","headers","Authorization","alert","msg","e","target","value","parseInt"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/admin/pages/manage-plans/AddPlan.js"],"sourcesContent":["import { Box, Container, Stack, TextField, Typography } from '@mui/material'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport GetTokenAdmin from '../../../utils/GetTokenAdmin'\r\nimport { GlobalContext } from '../../../context/GlobalContext'\r\n\r\nconst AddPlan = () => {\r\n    const [state, setState] = React.useState({})\r\n    const { token_admin } = GetTokenAdmin()\r\n    const globalContext = React.useContext(GlobalContext)\r\n\r\n    async function fetchPlans() {\r\n        setState({ ...state, loading: true })\r\n        const res = await axios.get(`${process.env.REACT_APP_BASE_URL}/api/plan/get`)\r\n        globalContext.setData({ ...globalContext.data, plan_data: res.data.data })\r\n        if (!res.data.success) {\r\n            console.log(res.data)\r\n        }\r\n        setState({ ...state, loading: false, cost: \"\", message_limit: \"\", name: \"\" })\r\n    }\r\n\r\n    async function addPlan() {\r\n        setState({ ...state, loading: true })\r\n        const res = await axios.post(`${process.env.REACT_APP_BASE_URL}/api/plan/add`, {\r\n            name: state.name,\r\n            message_limit: state.message_limit,\r\n            cost: state.cost\r\n        }, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token_admin\r\n            }\r\n        })\r\n        if (!res.data.success) {\r\n            console.log(res.data)\r\n        }\r\n        setState({ ...state, loading: false })\r\n        alert(res.data.msg)\r\n        fetchPlans()\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth='lg'>\r\n            <Box mt={2}>\r\n                <Box mb={4}>\r\n                    <Typography align='center' fontWeight={'bold'} >Add a plan</Typography>\r\n                </Box>\r\n                <Stack direction={'column'} spacing={2}>\r\n                    <TextField value={state.name} onChange={(e) => setState({ ...state, name: e.target.value })} fullWidth label=\"Plan Name\" size='small' />\r\n                    <TextField value={state.message_limit} type=\"number\" onChange={(e) => setState({ ...state, message_limit: parseInt(e.target.value) })} fullWidth label=\"Message Limit\" size='small' />\r\n                    <TextField value={state.cost} type=\"number\" onChange={(e) => setState({ ...state, cost: parseInt(e.target.value) })} fullWidth label=\"Cost\" size='small' />\r\n                    <LoadingButton onClick={addPlan} loading={state.loading} variant='contained' >Add new</LoadingButton>\r\n                </Stack>\r\n            </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddPlan"],"mappings":"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"},"metadata":{},"sourceType":"module"}