{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Whatshub_v1.2\\\\client\\\\src\\\\admin\\\\pages\\\\smtp-config\\\\SMTPConfig.js\",\n  _s = $RefreshSig$();\nimport { Refresh } from '@mui/icons-material';\nimport { LoadingButton } from '@mui/lab';\nimport { Box, Divider, LinearProgress, Stack, TextField, Typography } from '@mui/material';\nimport axios from 'axios';\nimport React from 'react';\nimport GetWebSet from '../../../utils/GetWebSet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SMTPConfig = () => {\n  _s();\n  const [state, setState] = React.useState({});\n  const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\");\n  const [smtp, setSmtp] = React.useState(\"\");\n  const {\n    web_set\n  } = GetWebSet();\n  React.useEffect(() => {\n    setSmtp(web_set);\n  }, [web_set]);\n  function updateSet() {\n    setState({\n      ...state,\n      loading: true\n    });\n    axios.post(`${process.env.REACT_APP_BASE_URL}/api/web/update_smtp`, {\n      smtp_host: smtp.smtp_host,\n      smtp_port: smtp.smtp_port,\n      smtp_email: smtp.smtp_email,\n      smtp_password: smtp.smtp_password\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      alert(res.data.msg);\n      setState({\n        ...state,\n        loading: false\n      });\n      if (!res.data.success) {\n        console.log(res.data);\n      }\n    }).catch(err => console.log(err));\n  }\n  function testSet() {\n    setState({\n      ...state,\n      loading: true\n    });\n    axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/check_smtp`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      alert(res.data.msg);\n      setState({\n        ...state,\n        loading: false\n      });\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        justifyContent: 'space-between',\n        alignItems: \"center\",\n        direction: 'row',\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: 'bold',\n          children: \"SMTP Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      mb: 2,\n      children: /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"column\",\n      spacing: 2,\n      children: smtp ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          bgcolor: \"orange\",\n          p: 2,\n          borderRadius: 2,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"black\",\n            children: \"Without this setting your forget password option won't work.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: smtp.smtp_host,\n          onChange: e => setSmtp({\n            ...smtp,\n            smtp_host: e.target.value\n          }),\n          label: \"SMTP Host\",\n          size: \"small\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: smtp.smtp_port,\n          onChange: e => setSmtp({\n            ...smtp,\n            smtp_port: e.target.value\n          }),\n          label: \"SMTP Port\",\n          size: \"small\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: smtp.smtp_email,\n          onChange: e => setSmtp({\n            ...smtp,\n            smtp_email: e.target.value\n          }),\n          label: \"Email\",\n          size: \"small\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: smtp.smtp_password,\n          onChange: e => setSmtp({\n            ...smtp,\n            smtp_password: e.target.value\n          }),\n          label: \"SMTP Password\",\n          size: \"small\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n          disabled: smtp.smtp_host && smtp.smtp_port && smtp.smtp_email && smtp.smtp_password ? false : true,\n          loading: state.loading,\n          onClick: updateSet,\n          variant: \"contained\",\n          fullWidth: true,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(SMTPConfig, \"KEb8MnrnRQh8yFn1z9Euv0gdGUk=\");\n_c = SMTPConfig;\nexport default SMTPConfig;\nvar _c;\n$RefreshReg$(_c, \"SMTPConfig\");","map":{"version":3,"names":["Refresh","LoadingButton","Box","Divider","LinearProgress","Stack","TextField","Typography","axios","React","GetWebSet","SMTPConfig","state","setState","useState","token","localStorage","getItem","process","env","REACT_APP_TOKEN","smtp","setSmtp","web_set","useEffect","updateSet","loading","post","REACT_APP_BASE_URL","smtp_host","smtp_port","smtp_email","smtp_password","headers","Authorization","then","res","alert","data","msg","success","console","log","catch","err","testSet","get","e","target","value"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/admin/pages/smtp-config/SMTPConfig.js"],"sourcesContent":["import { Refresh } from '@mui/icons-material'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { Box, Divider, LinearProgress, Stack, TextField, Typography } from '@mui/material'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport GetWebSet from '../../../utils/GetWebSet'\r\n\r\n\r\nconst SMTPConfig = () => {\r\n    const [state, setState] = React.useState({})\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\")\r\n    const [smtp, setSmtp] = React.useState(\"\")\r\n    const { web_set } = GetWebSet()\r\n\r\n    React.useEffect(() => {\r\n        setSmtp(web_set)\r\n    }, [web_set])\r\n\r\n    function updateSet() {\r\n        setState({ ...state, loading: true })\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/web/update_smtp`, {\r\n            smtp_host: smtp.smtp_host,\r\n            smtp_port: smtp.smtp_port,\r\n            smtp_email: smtp.smtp_email,\r\n            smtp_password: smtp.smtp_password\r\n        }, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            alert(res.data.msg)\r\n            setState({ ...state, loading: false })\r\n            if (!res.data.success) {\r\n                console.log(res.data)\r\n            }\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n    function testSet() {\r\n        setState({ ...state, loading: true })\r\n        axios.get(`${process.env.REACT_APP_BASE_URL}/api/user/check_smtp`, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            alert(res.data.msg)\r\n            setState({ ...state, loading: false })\r\n            console.log(res.data)\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <Box p={2}>\r\n            <Box>\r\n                <Stack justifyContent={'space-between'} alignItems='center' direction={'row'} spacing={2}>\r\n                    <Typography fontWeight={'bold'} >SMTP Settings</Typography>\r\n                </Stack>\r\n            </Box>\r\n            <Box mt={2} mb={2}>\r\n                <Divider />\r\n            </Box>\r\n\r\n            <Stack direction='column' spacing={2}>\r\n                {\r\n                    smtp ? (\r\n                        <>\r\n                            <Box bgcolor='orange' p={2} borderRadius={2}>\r\n                                <Typography color='black' >Without this setting your forget password option won't work.</Typography>\r\n                            </Box>\r\n                            <TextField value={smtp.smtp_host} onChange={(e) => setSmtp({ ...smtp, smtp_host: e.target.value })} label=\"SMTP Host\" size='small' fullWidth />\r\n                            <TextField value={smtp.smtp_port} onChange={(e) => setSmtp({ ...smtp, smtp_port: e.target.value })} label=\"SMTP Port\" size='small' fullWidth />\r\n                            <TextField value={smtp.smtp_email} onChange={(e) => setSmtp({ ...smtp, smtp_email: e.target.value })} label=\"Email\" size='small' fullWidth />\r\n                            <TextField value={smtp.smtp_password} onChange={(e) => setSmtp({ ...smtp, smtp_password: e.target.value })} label=\"SMTP Password\" size='small' fullWidth />\r\n                            <LoadingButton disabled={smtp.smtp_host && smtp.smtp_port && smtp.smtp_email && smtp.smtp_password ? false : true} loading={state.loading} onClick={updateSet} variant='contained' fullWidth >Save</LoadingButton>\r\n                            {/* <LoadingButton onClick={testSet} loading={state.loading} endIcon={<Refresh />} sx={{ textTransform: 'none' }} variant='outlined' fullWidth >Test Config</LoadingButton> */}\r\n                        </>\r\n                    ) : <LinearProgress />\r\n                }\r\n            </Stack>\r\n\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default SMTPConfig"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,aAAa,QAAQ,UAAU;AACxC,SAASC,GAAG,EAAEC,OAAO,EAAEC,cAAc,EAAEC,KAAK,EAAEC,SAAS,EAAEC,UAAU,QAAQ,eAAe;AAC1F,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,0BAA0B;AAAA;AAAA;AAGhD,MAAMC,UAAU,GAAG,MAAM;EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,eAAe,GAAG,QAAQ,CAAC;EAC1E,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,KAAK,CAACK,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM;IAAES;EAAQ,CAAC,GAAGb,SAAS,EAAE;EAE/BD,KAAK,CAACe,SAAS,CAAC,MAAM;IAClBF,OAAO,CAACC,OAAO,CAAC;EACpB,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,SAASE,SAAS,GAAG;IACjBZ,QAAQ,CAAC;MAAE,GAAGD,KAAK;MAAEc,OAAO,EAAE;IAAK,CAAC,CAAC;IACrClB,KAAK,CAACmB,IAAI,CAAE,GAAET,OAAO,CAACC,GAAG,CAACS,kBAAmB,sBAAqB,EAAE;MAChEC,SAAS,EAAER,IAAI,CAACQ,SAAS;MACzBC,SAAS,EAAET,IAAI,CAACS,SAAS;MACzBC,UAAU,EAAEV,IAAI,CAACU,UAAU;MAC3BC,aAAa,EAAEX,IAAI,CAACW;IACxB,CAAC,EAAE;MACCC,OAAO,EAAE;QACLC,aAAa,EAAE,SAAS,GAAGnB;MAC/B;IACJ,CAAC,CAAC,CAACoB,IAAI,CAAEC,GAAG,IAAK;MACbC,KAAK,CAACD,GAAG,CAACE,IAAI,CAACC,GAAG,CAAC;MACnB1B,QAAQ,CAAC;QAAE,GAAGD,KAAK;QAAEc,OAAO,EAAE;MAAM,CAAC,CAAC;MACtC,IAAI,CAACU,GAAG,CAACE,IAAI,CAACE,OAAO,EAAE;QACnBC,OAAO,CAACC,GAAG,CAACN,GAAG,CAACE,IAAI,CAAC;MACzB;IACJ,CAAC,CAAC,CAACK,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;EACvC;EAEA,SAASC,OAAO,GAAG;IACfhC,QAAQ,CAAC;MAAE,GAAGD,KAAK;MAAEc,OAAO,EAAE;IAAK,CAAC,CAAC;IACrClB,KAAK,CAACsC,GAAG,CAAE,GAAE5B,OAAO,CAACC,GAAG,CAACS,kBAAmB,sBAAqB,EAAE;MAC/DK,OAAO,EAAE;QACLC,aAAa,EAAE,SAAS,GAAGnB;MAC/B;IACJ,CAAC,CAAC,CAACoB,IAAI,CAAEC,GAAG,IAAK;MACbC,KAAK,CAACD,GAAG,CAACE,IAAI,CAACC,GAAG,CAAC;MACnB1B,QAAQ,CAAC;QAAE,GAAGD,KAAK;QAAEc,OAAO,EAAE;MAAM,CAAC,CAAC;MACtCe,OAAO,CAACC,GAAG,CAACN,GAAG,CAACE,IAAI,CAAC;IACzB,CAAC,CAAC,CAACK,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;EACvC;EAEA,oBACI,QAAC,GAAG;IAAC,CAAC,EAAE,CAAE;IAAA,wBACN,QAAC,GAAG;MAAA,uBACA,QAAC,KAAK;QAAC,cAAc,EAAE,eAAgB;QAAC,UAAU,EAAC,QAAQ;QAAC,SAAS,EAAE,KAAM;QAAC,OAAO,EAAE,CAAE;QAAA,uBACrF,QAAC,UAAU;UAAC,UAAU,EAAE,MAAO;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAA4B;QAAA;QAAA;QAAA;MAAA;IACvD;MAAA;MAAA;MAAA;IAAA,QACN,eACN,QAAC,GAAG;MAAC,EAAE,EAAE,CAAE;MAAC,EAAE,EAAE,CAAE;MAAA,uBACd,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACT,eAEN,QAAC,KAAK;MAAC,SAAS,EAAC,QAAQ;MAAC,OAAO,EAAE,CAAE;MAAA,UAE7BvB,IAAI,gBACA;QAAA,wBACI,QAAC,GAAG;UAAC,OAAO,EAAC,QAAQ;UAAC,CAAC,EAAE,CAAE;UAAC,YAAY,EAAE,CAAE;UAAA,uBACxC,QAAC,UAAU;YAAC,KAAK,EAAC,OAAO;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAA2E;UAAA;UAAA;UAAA;QAAA,QAClG,eACN,QAAC,SAAS;UAAC,KAAK,EAAEA,IAAI,CAACQ,SAAU;UAAC,QAAQ,EAAGkB,CAAC,IAAKzB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEQ,SAAS,EAAEkB,CAAC,CAACC,MAAM,CAACC;UAAM,CAAC,CAAE;UAAC,KAAK,EAAC,WAAW;UAAC,IAAI,EAAC,OAAO;UAAC,SAAS;QAAA;UAAA;UAAA;UAAA;QAAA,QAAG,eAC/I,QAAC,SAAS;UAAC,KAAK,EAAE5B,IAAI,CAACS,SAAU;UAAC,QAAQ,EAAGiB,CAAC,IAAKzB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAES,SAAS,EAAEiB,CAAC,CAACC,MAAM,CAACC;UAAM,CAAC,CAAE;UAAC,KAAK,EAAC,WAAW;UAAC,IAAI,EAAC,OAAO;UAAC,SAAS;QAAA;UAAA;UAAA;UAAA;QAAA,QAAG,eAC/I,QAAC,SAAS;UAAC,KAAK,EAAE5B,IAAI,CAACU,UAAW;UAAC,QAAQ,EAAGgB,CAAC,IAAKzB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEU,UAAU,EAAEgB,CAAC,CAACC,MAAM,CAACC;UAAM,CAAC,CAAE;UAAC,KAAK,EAAC,OAAO;UAAC,IAAI,EAAC,OAAO;UAAC,SAAS;QAAA;UAAA;UAAA;UAAA;QAAA,QAAG,eAC7I,QAAC,SAAS;UAAC,KAAK,EAAE5B,IAAI,CAACW,aAAc;UAAC,QAAQ,EAAGe,CAAC,IAAKzB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEW,aAAa,EAAEe,CAAC,CAACC,MAAM,CAACC;UAAM,CAAC,CAAE;UAAC,KAAK,EAAC,eAAe;UAAC,IAAI,EAAC,OAAO;UAAC,SAAS;QAAA;UAAA;UAAA;UAAA;QAAA,QAAG,eAC3J,QAAC,aAAa;UAAC,QAAQ,EAAE5B,IAAI,CAACQ,SAAS,IAAIR,IAAI,CAACS,SAAS,IAAIT,IAAI,CAACU,UAAU,IAAIV,IAAI,CAACW,aAAa,GAAG,KAAK,GAAG,IAAK;UAAC,OAAO,EAAEpB,KAAK,CAACc,OAAQ;UAAC,OAAO,EAAED,SAAU;UAAC,OAAO,EAAC,WAAW;UAAC,SAAS;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAsB;MAAA,gBAEnN,gBACH,QAAC,cAAc;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QAEtB;EAAA;IAAA;IAAA;IAAA;EAAA,QAEN;AAEd,CAAC;AAAA,GA1EKd,UAAU;AAAA,KAAVA,UAAU;AA4EhB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}