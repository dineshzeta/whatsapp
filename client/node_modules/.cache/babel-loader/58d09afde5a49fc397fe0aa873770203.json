{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Box,Button,Grid,IconButton,TextField,Typography,Zoom}from'@mui/material';import{Container,Stack}from'@mui/system';import{LoadingButton}from'@mui/lab';import{ArrowRight}from'@mui/icons-material';import axios from'axios';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InstallApp=function InstallApp(){var _React$useState=React.useState({step:'one'}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var history=useHistory();function installApp(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/api/web/install_app\"),{app_name:state.app_name,currency_symbol:state.currency_symbol,exchange_rate:state.exchange_rate,admin_email:state.admin_email,admin_password:state.admin_password}).then(function(res){setState(_objectSpread(_objectSpread({},state),{},{loading:false}));alert(res.data.msg);if(res.data.success){setTimeout(function(){history.push('/admin/login');},2000);}}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsx(Box,{p:2,minHeight:\"100vh\",bgcolor:'black',children:/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",children:/*#__PURE__*/_jsxs(Grid,{bgcolor:'black',container:true,minHeight:'100vh',alignItems:\"center\",justifyContent:'center',children:[state.step==='one'&&/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Zoom,{in:true,children:/*#__PURE__*/_jsxs(Stack,{direction:'column',spacing:2,children:[/*#__PURE__*/_jsxs(Stack,{alignItems:'center',children:[/*#__PURE__*/_jsx(Typography,{color:\"white\",variant:\"h5\",children:\"Thanks for purchasing WhatsHam v1 by codeyon.com\"}),/*#__PURE__*/_jsx(Typography,{color:\"gray\",variant:\"caption\",children:\"Make sure you have setup your .env file\"})]}),/*#__PURE__*/_jsx(TextField,{value:state.app_name,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{app_name:e.target.value}));},label:\"App Name\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{value:state.currency_symbol,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{currency_symbol:e.target.value}));},label:\"Currency Symbol\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{type:\"number\",value:state.exchange_rate,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{exchange_rate:e.target.value}));},label:\"Exchange Rate\",helperText:\"Enter your currency amount, 1 USD = ?\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(Stack,{alignItems:'flex-end',children:/*#__PURE__*/_jsx(IconButton,{disabled:state.app_name&&state.currency_symbol&&state.exchange_rate?false:true,onClick:function onClick(){return setState(_objectSpread(_objectSpread({},state),{},{step:'two'}));},children:/*#__PURE__*/_jsx(ArrowRight,{sx:{height:100,width:100}})})})]})})}),state.step==='two'&&/*#__PURE__*/_jsx(Grid,{xs:6,sm:6,lg:6,item:true,children:/*#__PURE__*/_jsx(Zoom,{in:true,children:/*#__PURE__*/_jsxs(Stack,{direction:'column',spacing:2,children:[/*#__PURE__*/_jsx(Stack,{alignItems:'center',children:/*#__PURE__*/_jsx(Typography,{color:\"white\",variant:\"h5\",children:\"Admin Setup\"})}),/*#__PURE__*/_jsx(TextField,{value:state.admin_email,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{admin_email:e.target.value}));},label:\"Admin Email\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{value:state.admin_password,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{admin_password:e.target.value}));},label:\"Admin Password\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:function onClick(){return setState(_objectSpread(_objectSpread({},state),{},{step:'one'}));},children:\"Back\"}),/*#__PURE__*/_jsx(LoadingButton,{loading:state.loading,onClick:installApp,disabled:state.admin_email&&state.admin_password?false:true,fullWidth:true,variant:\"contained\",children:\"INstall\"})]})})})]})})});};export default InstallApp;","map":{"version":3,"names":["React","Box","Button","Grid","IconButton","TextField","Typography","Zoom","Container","Stack","LoadingButton","ArrowRight","axios","useHistory","InstallApp","useState","step","state","setState","history","installApp","loading","post","process","env","REACT_APP_BASE_URL","app_name","currency_symbol","exchange_rate","admin_email","admin_password","then","res","alert","data","msg","success","setTimeout","push","catch","err","console","log","e","target","value","height","width"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/installation/InstallApp.js"],"sourcesContent":["import React from 'react'\r\nimport { Box, Button, Grid, IconButton, TextField, Typography, Zoom } from '@mui/material'\r\nimport { Container, Stack } from '@mui/system'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { ArrowRight } from '@mui/icons-material'\r\nimport axios from 'axios'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst InstallApp = () => {\r\n    const [state, setState] = React.useState({\r\n        step: 'one'\r\n    })\r\n    const history = useHistory()\r\n\r\n    function installApp() {\r\n        setState({ ...state, loading: true })\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/web/install_app`, {\r\n            app_name: state.app_name,\r\n            currency_symbol: state.currency_symbol,\r\n            exchange_rate: state.exchange_rate,\r\n            admin_email: state.admin_email,\r\n            admin_password: state.admin_password\r\n        }).then((res) => {\r\n            setState({ ...state, loading: false })\r\n            alert(res.data.msg)\r\n            if (res.data.success) {\r\n                setTimeout(() => {\r\n                    history.push('/admin/login')\r\n                }, 2000);\r\n            }\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n\r\n    return (\r\n        <Box p={2} minHeight='100vh' bgcolor={'black'} >\r\n            <Container maxWidth='lg'>\r\n                <Grid bgcolor={'black'} container minHeight={'100vh'} alignItems='center' justifyContent={'center'}>\r\n                    {\r\n                        state.step === 'one' &&\r\n                        <Grid item>\r\n                            <Zoom in={true} >\r\n                                <Stack direction={'column'} spacing={2}>\r\n\r\n                                    <Stack alignItems={'center'}>\r\n                                        <Typography color='white' variant='h5' >Thanks for purchasing WhatsHam v1 by codeyon.com</Typography>\r\n                                        <Typography color='gray' variant='caption' >Make sure you have setup your .env file</Typography>\r\n                                    </Stack>\r\n\r\n                                    <TextField value={state.app_name} onChange={(e) => setState({ ...state, app_name: e.target.value })}\r\n                                        label=\"App Name\" fullWidth size='small' />\r\n                                    <TextField value={state.currency_symbol} onChange={(e) => setState({ ...state, currency_symbol: e.target.value })}\r\n                                        label=\"Currency Symbol\" fullWidth size='small' />\r\n                                    <TextField type='number' value={state.exchange_rate} onChange={(e) => setState({ ...state, exchange_rate: e.target.value })}\r\n                                        label=\"Exchange Rate\" helperText=\"Enter your currency amount, 1 USD = ?\" fullWidth size='small' />\r\n\r\n                                    <Stack alignItems={'flex-end'}>\r\n                                        <IconButton\r\n                                            disabled={state.app_name && state.currency_symbol && state.exchange_rate ? false : true}\r\n                                            onClick={() => setState({ ...state, step: 'two' })} >\r\n                                            <ArrowRight sx={{ height: 100, width: 100 }} />\r\n                                        </IconButton>\r\n                                    </Stack>\r\n\r\n                                </Stack>\r\n                            </Zoom>\r\n                        </Grid>\r\n                    }\r\n                    {\r\n                        state.step === 'two' &&\r\n                        <Grid xs={6} sm={6} lg={6} item>\r\n                            <Zoom in={true} >\r\n                                <Stack direction={'column'} spacing={2}>\r\n\r\n                                    <Stack alignItems={'center'}>\r\n                                        <Typography color='white' variant='h5' >Admin Setup</Typography>\r\n                                    </Stack>\r\n\r\n                                    <TextField value={state.admin_email} onChange={(e) => setState({ ...state, admin_email: e.target.value })}\r\n                                        label=\"Admin Email\" fullWidth size='small' />\r\n                                    <TextField value={state.admin_password} onChange={(e) => setState({ ...state, admin_password: e.target.value })}\r\n                                        label=\"Admin Password\" fullWidth size='small' />\r\n\r\n                                    <Button size='small' onClick={() => setState({ ...state, step: 'one' })} >Back</Button>\r\n\r\n                                    <LoadingButton\r\n                                        loading={state.loading}\r\n                                        onClick={installApp}\r\n                                        disabled={state.admin_email && state.admin_password ? false : true} fullWidth variant='contained'  >INstall</LoadingButton>\r\n                                </Stack>\r\n                            </Zoom>\r\n                        </Grid>\r\n                    }\r\n                </Grid>\r\n            </Container>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default InstallApp"],"mappings":"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"},"metadata":{},"sourceType":"module"}