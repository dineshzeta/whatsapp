{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/Whatshub_v1.2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AddPhotoAlternate}from'@mui/icons-material';import{Button,Divider,LinearProgress,TextField,Typography}from'@mui/material';import{Box,Stack}from'@mui/system';import React from'react';import GetWebSet from'../../../utils/GetWebSet';import{SketchPicker}from'react-color';import{LoadingButton}from'@mui/lab';import{useHistory}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppConfig=function AppConfig(){var _GetWebSet=GetWebSet(),web_set=_GetWebSet.web_set;var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),web=_React$useState4[0],setWeb=_React$useState4[1];var token=localStorage.getItem(process.env.REACT_APP_TOKEN+\"_admin\");var history=useHistory();React.useEffect(function(){setWeb(_objectSpread({},web_set));},[web_set]);function updateWeb(e){e.preventDefault();var fd=new FormData();setState(_objectSpread(_objectSpread({},state),{},{loading:true}));fd.append('app_name',web.app_name);fd.append('file',state.logo_image);fd.append('currency_symbol',web.currency_symbol);// fd.append('theme_color', web.theme_color)\naxios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/api/web/update_set\"),fd,{headers:{Authorization:\"Bearer \"+token}}).then(function(res){if(res.data.logout){localStorage.removeItem(process.env.REACT_APP_TOKEN+\"_admin\");history.push('/admin');}alert(res.data.msg);setState(_objectSpread(_objectSpread({},state),{},{loading:false}));if(!res.data.success){console.log(res.data);}}).catch(function(err){console.log(err);setState(_objectSpread(_objectSpread({},state),{},{loading:true}));});}return/*#__PURE__*/_jsxs(Box,{p:2,children:[/*#__PURE__*/_jsx(Stack,{alignItems:'center',direction:'row',justifyContent:\"space-between\",children:/*#__PURE__*/_jsx(Typography,{fontWeight:'bold',children:\"App Config\"})}),/*#__PURE__*/_jsx(Box,{mt:2,mb:2,children:/*#__PURE__*/_jsx(Divider,{})}),web_set?/*#__PURE__*/_jsx(\"form\",{onSubmit:updateWeb,encType:\"formdata/multi-part\",children:/*#__PURE__*/_jsxs(Stack,{direction:'column',spacing:2,children:[/*#__PURE__*/_jsxs(Stack,{alignItems:\"center\",border:1,borderRadius:2,p:2,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",component:\"label\",children:[/*#__PURE__*/_jsx(\"input\",{accept:\"image/png, image/jpeg, image/jpg\",type:\"file\",hidden:true,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{logo_image:e.target.files[0]}));}}),state.logo_image?/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(state.logo_image),style:{height:200,width:200,borderRadius:5}}):web.logo?/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(web.logo),style:{height:200,width:200,borderRadius:5}}):/*#__PURE__*/_jsx(AddPhotoAlternate,{sx:{height:200,width:200}})]}),/*#__PURE__*/_jsx(Typography,{children:\"LOGO\"})]}),/*#__PURE__*/_jsx(TextField,{required:true,onChange:function onChange(e){return setWeb(_objectSpread(_objectSpread({},web),{},{app_name:e.target.value}));},InputLabelProps:{shrink:true},value:web.app_name,label:\"App Name\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{required:true,onChange:function onChange(e){return setWeb(_objectSpread(_objectSpread({},web),{},{currency_symbol:e.target.value}));},InputLabelProps:{shrink:true},value:web.currency_symbol,label:\"Currency Symbol\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(LoadingButton,{loading:state.loading,type:\"submit\",variant:\"contained\",children:\"Save\"})]})}):/*#__PURE__*/_jsx(LinearProgress,{})]});};export default AppConfig;","map":{"version":3,"names":["AddPhotoAlternate","Button","Divider","LinearProgress","TextField","Typography","Box","Stack","React","GetWebSet","SketchPicker","LoadingButton","useHistory","axios","AppConfig","web_set","useState","state","setState","web","setWeb","token","localStorage","getItem","process","env","REACT_APP_TOKEN","history","useEffect","updateWeb","e","preventDefault","fd","FormData","loading","append","app_name","logo_image","currency_symbol","post","REACT_APP_BASE_URL","headers","Authorization","then","res","data","logout","removeItem","push","alert","msg","success","console","log","catch","err","target","files","URL","createObjectURL","height","width","borderRadius","logo","value","shrink"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/admin/pages/app-config.js/AppConfig.js"],"sourcesContent":["import { AddPhotoAlternate } from '@mui/icons-material'\r\nimport { Button, Divider, LinearProgress, TextField, Typography } from '@mui/material'\r\nimport { Box, Stack } from '@mui/system'\r\nimport React from 'react'\r\nimport GetWebSet from '../../../utils/GetWebSet'\r\nimport { SketchPicker } from 'react-color'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst AppConfig = () => {\r\n    const { web_set } = GetWebSet()\r\n    const [state, setState] = React.useState({})\r\n    const [web, setWeb] = React.useState(\"\")\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\")\r\n    const history = useHistory()\r\n\r\n    React.useEffect(() => {\r\n        setWeb({ ...web_set })\r\n    }, [web_set])\r\n\r\n\r\n    function updateWeb(e) {\r\n        e.preventDefault()\r\n        const fd = new FormData()\r\n        setState({ ...state, loading: true })\r\n        fd.append('app_name', web.app_name)\r\n        fd.append('file', state.logo_image)\r\n        fd.append('currency_symbol', web.currency_symbol)\r\n        // fd.append('theme_color', web.theme_color)\r\n\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/web/update_set`, fd, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            if (res.data.logout) {\r\n                localStorage.removeItem(process.env.REACT_APP_TOKEN + \"_admin\")\r\n                history.push('/admin')\r\n            }\r\n            alert(res.data.msg)\r\n            setState({ ...state, loading: false })\r\n            if (!res.data.success) {\r\n                console.log(res.data)\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            setState({ ...state, loading: true })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Box p={2} >\r\n            <Stack alignItems={'center'} direction={'row'} justifyContent='space-between'>\r\n                <Typography fontWeight={'bold'} >App Config</Typography>\r\n            </Stack>\r\n            <Box mt={2} mb={2}>\r\n                <Divider />\r\n            </Box>\r\n\r\n            {\r\n                web_set ? (\r\n                    <form onSubmit={updateWeb} encType='formdata/multi-part' >\r\n                        <Stack direction={'column'} spacing={2}>\r\n                            <Stack alignItems='center' border={1} borderRadius={2} p={2}>\r\n                                <Button variant='outlined' component=\"label\">\r\n                                    <input\r\n                                        accept=\"image/png, image/jpeg, image/jpg\"\r\n                                        type=\"file\"\r\n                                        hidden\r\n                                        onChange={(e) => setState({ ...state, logo_image: e.target.files[0] })}\r\n                                    />\r\n                                    {\r\n                                        state.logo_image ? (\r\n                                            <img src={URL.createObjectURL(state.logo_image)} style={{ height: 200, width: 200, borderRadius: 5 }} />\r\n                                        ) : (\r\n                                            web.logo ? (\r\n                                                <img src={`/images/${web.logo}`} style={{ height: 200, width: 200, borderRadius: 5 }} />\r\n                                            ) : <AddPhotoAlternate sx={{ height: 200, width: 200 }} />\r\n                                        )\r\n                                    }\r\n                                </Button>\r\n                                <Typography>LOGO</Typography>\r\n\r\n                            </Stack>\r\n\r\n\r\n                            <TextField required onChange={(e) => setWeb({ ...web, app_name: e.target.value })} InputLabelProps={{ shrink: true }} value={web.app_name} label=\"App Name\" fullWidth size=\"small\" />\r\n                            <TextField required onChange={(e) => setWeb({ ...web, currency_symbol: e.target.value })} InputLabelProps={{ shrink: true }} value={web.currency_symbol} label=\"Currency Symbol\" fullWidth size=\"small\" />\r\n\r\n                            {/* <Stack alignItems={'flex-start'}>\r\n                                <Box p={2} bgcolor='black' borderRadius={2} border={1} borderColor={web.theme_color} >\r\n                                    <Typography sx={{ mb: 2 }} color='gray' align='center' >Choose Theme Color</Typography>\r\n                                    <SketchPicker color={web.theme_color} onChangeComplete={(e) => setWeb({ ...web, theme_color: e.hex })} />\r\n                                </Box>\r\n                            </Stack> */}\r\n\r\n                            <LoadingButton loading={state.loading} type=\"submit\" variant='contained' >Save</LoadingButton>\r\n\r\n                        </Stack>\r\n                    </form>\r\n                ) : (\r\n                    <LinearProgress />\r\n                )\r\n            }\r\n\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default AppConfig"],"mappings":"iRAAA,OAASA,iBAAiB,KAAQ,qBAAqB,CACvD,OAASC,MAAM,CAAEC,OAAO,CAAEC,cAAc,CAAEC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CACtF,OAASC,GAAG,CAAEC,KAAK,KAAQ,aAAa,CACxC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,UAAS,KAAM,0BAA0B,CAChD,OAASC,YAAY,KAAQ,aAAa,CAC1C,OAASC,aAAa,KAAQ,UAAU,CACxC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAOC,MAAK,KAAM,OAAO,yFAEzB,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpB,eAAoBL,SAAS,EAAE,CAAvBM,OAAO,YAAPA,OAAO,CACf,oBAA0BP,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,oDAArCC,KAAK,qBAAEC,QAAQ,qBACtB,qBAAsBV,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC,qDAAjCG,GAAG,qBAAEC,MAAM,qBAClB,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,eAAe,CAAG,QAAQ,CAAC,CAC1E,GAAMC,QAAO,CAAGf,UAAU,EAAE,CAE5BJ,KAAK,CAACoB,SAAS,CAAC,UAAM,CAClBR,MAAM,kBAAML,OAAO,EAAG,CAC1B,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAGb,QAASc,UAAS,CAACC,CAAC,CAAE,CAClBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAMC,GAAE,CAAG,GAAIC,SAAQ,EAAE,CACzBf,QAAQ,gCAAMD,KAAK,MAAEiB,OAAO,CAAE,IAAI,GAAG,CACrCF,EAAE,CAACG,MAAM,CAAC,UAAU,CAAEhB,GAAG,CAACiB,QAAQ,CAAC,CACnCJ,EAAE,CAACG,MAAM,CAAC,MAAM,CAAElB,KAAK,CAACoB,UAAU,CAAC,CACnCL,EAAE,CAACG,MAAM,CAAC,iBAAiB,CAAEhB,GAAG,CAACmB,eAAe,CAAC,CACjD;AAEAzB,KAAK,CAAC0B,IAAI,WAAIf,OAAO,CAACC,GAAG,CAACe,kBAAkB,wBAAuBR,EAAE,CAAE,CACnES,OAAO,CAAE,CACLC,aAAa,CAAE,SAAS,CAAGrB,KAC/B,CACJ,CAAC,CAAC,CAACsB,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,CAAE,CACjBxB,YAAY,CAACyB,UAAU,CAACvB,OAAO,CAACC,GAAG,CAACC,eAAe,CAAG,QAAQ,CAAC,CAC/DC,OAAO,CAACqB,IAAI,CAAC,QAAQ,CAAC,CAC1B,CACAC,KAAK,CAACL,GAAG,CAACC,IAAI,CAACK,GAAG,CAAC,CACnBhC,QAAQ,gCAAMD,KAAK,MAAEiB,OAAO,CAAE,KAAK,GAAG,CACtC,GAAI,CAACU,GAAG,CAACC,IAAI,CAACM,OAAO,CAAE,CACnBC,OAAO,CAACC,GAAG,CAACT,GAAG,CAACC,IAAI,CAAC,CACzB,CACJ,CAAC,CAAC,CAACS,KAAK,CAAC,SAACC,GAAG,CAAK,CACdH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAChBrC,QAAQ,gCAAMD,KAAK,MAAEiB,OAAO,CAAE,IAAI,GAAG,CACzC,CAAC,CAAC,CACN,CAEA,mBACI,MAAC,GAAG,EAAC,CAAC,CAAE,CAAE,wBACN,KAAC,KAAK,EAAC,UAAU,CAAE,QAAS,CAAC,SAAS,CAAE,KAAM,CAAC,cAAc,CAAC,eAAe,uBACzE,KAAC,UAAU,EAAC,UAAU,CAAE,MAAO,wBAAyB,EACpD,cACR,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,uBACd,KAAC,OAAO,IAAG,EACT,CAGFnB,OAAO,cACH,aAAM,QAAQ,CAAEc,SAAU,CAAC,OAAO,CAAC,qBAAqB,uBACpD,MAAC,KAAK,EAAC,SAAS,CAAE,QAAS,CAAC,OAAO,CAAE,CAAE,wBACnC,MAAC,KAAK,EAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAE,CAAE,CAAC,YAAY,CAAE,CAAE,CAAC,CAAC,CAAE,CAAE,wBACxD,MAAC,MAAM,EAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,wBACxC,cACI,MAAM,CAAC,kCAAkC,CACzC,IAAI,CAAC,MAAM,CACX,MAAM,MACN,QAAQ,CAAE,kBAACC,CAAC,QAAKZ,SAAQ,gCAAMD,KAAK,MAAEoB,UAAU,CAAEP,CAAC,CAAC0B,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAC,EACzE,CAEExC,KAAK,CAACoB,UAAU,cACZ,YAAK,GAAG,CAAEqB,GAAG,CAACC,eAAe,CAAC1C,KAAK,CAACoB,UAAU,CAAE,CAAC,KAAK,CAAE,CAAEuB,MAAM,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAG,CAAEC,YAAY,CAAE,CAAE,CAAE,EAAG,CAExG3C,GAAG,CAAC4C,IAAI,cACJ,YAAK,GAAG,mBAAa5C,GAAG,CAAC4C,IAAI,CAAG,CAAC,KAAK,CAAE,CAAEH,MAAM,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAG,CAAEC,YAAY,CAAE,CAAE,CAAE,EAAG,cACxF,KAAC,iBAAiB,EAAC,EAAE,CAAE,CAAEF,MAAM,CAAE,GAAG,CAAEC,KAAK,CAAE,GAAI,CAAE,EAC1D,GAEA,cACT,KAAC,UAAU,mBAAkB,GAEzB,cAGR,KAAC,SAAS,EAAC,QAAQ,MAAC,QAAQ,CAAE,kBAAC/B,CAAC,QAAKV,OAAM,gCAAMD,GAAG,MAAEiB,QAAQ,CAAEN,CAAC,CAAC0B,MAAM,CAACQ,KAAK,GAAG,EAAC,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAAC,KAAK,CAAE9C,GAAG,CAACiB,QAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,MAAC,IAAI,CAAC,OAAO,EAAG,cACrL,KAAC,SAAS,EAAC,QAAQ,MAAC,QAAQ,CAAE,kBAACN,CAAC,QAAKV,OAAM,gCAAMD,GAAG,MAAEmB,eAAe,CAAER,CAAC,CAAC0B,MAAM,CAACQ,KAAK,GAAG,EAAC,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAAC,KAAK,CAAE9C,GAAG,CAACmB,eAAgB,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,MAAC,IAAI,CAAC,OAAO,EAAG,cAS1M,KAAC,aAAa,EAAC,OAAO,CAAErB,KAAK,CAACiB,OAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,kBAAsB,GAE1F,EACL,cAEP,KAAC,cAAc,IAClB,GAGH,CAEd,CAAC,CAED,cAAepB,UAAS"},"metadata":{},"sourceType":"module"}