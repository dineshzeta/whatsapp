{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Whatshub_v1.2\\\\client\\\\src\\\\admin\\\\pages\\\\manage-users\\\\ManageUsers.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport GetAllUserAdmin from '../../../utils/GetAllUserAdmin';\nimport { AdminContext } from '../../../context/AdminContext';\nimport { DataGrid, GridToolbarContainer, GridToolbarExport } from '@mui/x-data-grid';\nimport { Box, CircularProgress, Dialog, Grid, IconButton, LinearProgress, Typography } from '@mui/material';\nimport { Close, Edit, Login } from '@mui/icons-material';\nimport DialogHeader from '../../../common/DialogHeader';\nimport EditUser from './components/EditUser';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CustomToolbar() {\n  return /*#__PURE__*/_jsxDEV(GridToolbarContainer, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      p: 2,\n      width: '100%',\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justifyContent: 'space-between',\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: \"All Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(GridToolbarExport, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this);\n}\n_c = CustomToolbar;\nconst ManageUsers = () => {\n  _s();\n  const [state, setState] = React.useState({\n    dialog: false\n  });\n  const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\");\n  const adminContext = React.useContext(AdminContext);\n  const {\n    all_users\n  } = GetAllUserAdmin();\n  React.useEffect(() => {\n    if (!all_users) {\n      return;\n    }\n    adminContext.setData({\n      ...adminContext.data,\n      all_users: all_users\n    });\n  }, [all_users]);\n  function direcLogin(e) {\n    setState({\n      ...state,\n      loading: true\n    });\n    axios.post(`${process.env.REACT_APP_BASE_URL}/api/user/direct_login`, {\n      uid: e\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      setState({\n        ...state,\n        loading: false\n      });\n      localStorage.setItem(process.env.REACT_APP_TOKEN + \"_user\", res.data.token);\n      window.open('/user');\n    }).catch(err => console.log(err));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      fullScreen: true,\n      open: state.dialog,\n      onClose: () => setState({\n        ...state,\n        dialog: false\n      }),\n      children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n        title: \"Edit User\",\n        closebtn: /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          color: \"inherit\",\n          onClick: () => {\n            setState({\n              ...state,\n              dialog: false\n            });\n          },\n          \"aria-label\": \"close\",\n          children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditUser, {\n        user: state.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), adminContext.data.all_users ? /*#__PURE__*/_jsxDEV(Box, {\n      height: \"80vh\",\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        getRowId: row => row.id,\n        rows: [...adminContext.data.all_users].reverse(),\n        columns: [{\n          headerName: \"Login\",\n          field: 'uid',\n          flex: 1,\n          renderCell: data => state.loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 25\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 45\n          }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => direcLogin(data.row.uid),\n            children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 45\n          }, this)\n        }, {\n          headerName: \"Name\",\n          field: 'name',\n          flex: 1\n        }, {\n          headerName: \"Email\",\n          field: 'email',\n          flex: 1\n        }, {\n          headerName: \"Mobile\",\n          field: 'mobile',\n          flex: 1\n        }, {\n          headerName: \"Update\",\n          field: 'id',\n          flex: 1,\n          renderCell: data => /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => {\n              setState({\n                ...state,\n                dialog: true,\n                user: data.row\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 101\n          }, this)\n        }],\n        pageSize: 50,\n        rowsPerPageOptions: [50],\n        checkboxSelection: false,\n        components: {\n          Toolbar: CustomToolbar\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(ManageUsers, \"/gfCV4pVIXz0g160OXSaGEXtsyg=\");\n_c2 = ManageUsers;\nexport default ManageUsers;\nvar _c, _c2;\n$RefreshReg$(_c, \"CustomToolbar\");\n$RefreshReg$(_c2, \"ManageUsers\");","map":{"version":3,"names":["React","GetAllUserAdmin","AdminContext","DataGrid","GridToolbarContainer","GridToolbarExport","Box","CircularProgress","Dialog","Grid","IconButton","LinearProgress","Typography","Close","Edit","Login","DialogHeader","EditUser","axios","CustomToolbar","ManageUsers","state","setState","useState","dialog","token","localStorage","getItem","process","env","REACT_APP_TOKEN","adminContext","useContext","all_users","useEffect","setData","data","direcLogin","e","loading","post","REACT_APP_BASE_URL","uid","headers","Authorization","then","res","setItem","window","open","catch","err","console","log","user","row","id","reverse","headerName","field","flex","renderCell","Toolbar"],"sources":["C:/Users/Administrator/Desktop/Whatshub_v1.2/client/src/admin/pages/manage-users/ManageUsers.js"],"sourcesContent":["import React from 'react'\r\nimport GetAllUserAdmin from '../../../utils/GetAllUserAdmin'\r\nimport { AdminContext } from '../../../context/AdminContext'\r\nimport { DataGrid, GridToolbarContainer, GridToolbarExport } from '@mui/x-data-grid';\r\nimport { Box, CircularProgress, Dialog, Grid, IconButton, LinearProgress, Typography } from '@mui/material'\r\nimport { Close, Edit, Login } from '@mui/icons-material';\r\nimport DialogHeader from '../../../common/DialogHeader';\r\nimport EditUser from './components/EditUser'\r\nimport axios from 'axios'\r\n\r\nfunction CustomToolbar() {\r\n    return (\r\n        <GridToolbarContainer>\r\n            <Box p={2} width={'100%'}  >\r\n                <Grid container justifyContent={'space-between'} spacing={2}>\r\n                    <Grid item>\r\n                        <Typography variant='h5' >All Users</Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <GridToolbarExport />\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </GridToolbarContainer>\r\n    );\r\n}\r\n\r\nconst ManageUsers = () => {\r\n    const [state, setState] = React.useState({\r\n        dialog: false\r\n    })\r\n    const token = localStorage.getItem(process.env.REACT_APP_TOKEN + \"_admin\")\r\n\r\n    const adminContext = React.useContext(AdminContext)\r\n    const { all_users } = GetAllUserAdmin()\r\n    React.useEffect(() => {\r\n        if (!all_users) {\r\n            return\r\n        }\r\n        adminContext.setData({ ...adminContext.data, all_users: all_users })\r\n    }, [all_users])\r\n\r\n\r\n    function direcLogin(e) {\r\n        setState({ ...state, loading: true })\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}/api/user/direct_login`, {\r\n            uid: e\r\n        }, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token\r\n            }\r\n        }).then((res) => {\r\n            setState({ ...state, loading: false })\r\n            localStorage.setItem(process.env.REACT_APP_TOKEN + \"_user\", res.data.token)\r\n            window.open('/user')\r\n        }).catch((err) => console.log(err))\r\n    }\r\n\r\n\r\n    return (\r\n        <div >\r\n            <Dialog fullScreen open={state.dialog} onClose={() => setState({ ...state, dialog: false })} >\r\n                <DialogHeader title=\"Edit User\"\r\n                    closebtn={<IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        onClick={() => {\r\n                            setState({ ...state, dialog: false })\r\n                        }}\r\n                        aria-label=\"close\"\r\n                    >\r\n                        <Close />\r\n                    </IconButton>} />\r\n                <EditUser user={state.user} />\r\n            </Dialog>\r\n            {\r\n                adminContext.data.all_users ? (\r\n                    <Box height='80vh'>\r\n                        <DataGrid\r\n                            getRowId={(row) => row.id}\r\n                            rows={[...adminContext.data.all_users].reverse()}\r\n                            columns={[\r\n                                {\r\n                                    headerName: \"Login\", field: 'uid', flex: 1, renderCell: data =>\r\n                                        state.loading ? (\r\n                                            <CircularProgress size={25} />\r\n                                        ) : (\r\n                                            <IconButton\r\n                                                onClick={() => direcLogin(data.row.uid)}\r\n                                            >\r\n                                                <Login />\r\n                                            </IconButton>\r\n                                        )\r\n                                },\r\n                                { headerName: \"Name\", field: 'name', flex: 1, },\r\n                                { headerName: \"Email\", field: 'email', flex: 1, },\r\n                                { headerName: \"Mobile\", field: 'mobile', flex: 1, },\r\n                                {\r\n                                    headerName: \"Update\", field: 'id', flex: 1, renderCell: data => <IconButton onClick={() => {\r\n                                        setState({ ...state, dialog: true, user: data.row })\r\n                                    }} >\r\n                                        <Edit />\r\n                                    </IconButton>\r\n                                },\r\n                            ]}\r\n                            pageSize={50}\r\n                            rowsPerPageOptions={[50]}\r\n                            checkboxSelection={false}\r\n                            components={{\r\n                                Toolbar: CustomToolbar,\r\n                            }}\r\n                        />\r\n                    </Box>\r\n                ) : <LinearProgress />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ManageUsers"],"mappings":"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"},"metadata":{},"sourceType":"module"}